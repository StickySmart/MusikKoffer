<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Tiage Music Masterplan 25</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: monospace;
      margin: 0;
      padding: 0;
      background: #fff;
      color: #000;
    }
    header {
      background: #111;
      color: #fff;
      padding: 15px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    header h1 {
      margin: 0;
      font-size: 20px;
    }
    header .buttons button {
      margin-left: 5px;
      padding: 5px 10px;
    }
    #container {
      display: flex;
    }
    #sidebar {
      width: 250px;
      padding: 15px;
      border-right: 1px solid #ccc;
      background: #f9f9f9;
    }
    #content {
      flex: 1;
      padding: 15px;
    }
    ul {
      list-style: none;
      padding-left: 0;
    }
    ul li {
      margin: 5px 0;
    }
    a {
      text-decoration: none;
      color: #0000cc;
    }
    a:hover {
      text-decoration: underline;
    }
    .error {
      color: red;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <header>
    <h1>Tiage Music Masterplan 25</h1>
    <div class="buttons">
      <button onclick="exportJson1()">ExpJ1</button>
      <button onclick="exportJson2()">ExpJ2</button>
      <button onclick="importJson2()">ImpJ2</button>
    </div>
  </header>

  <div id="container">
    <div id="sidebar">
      <h3>Kapitel</h3>
      <ul id="chaptersList"></ul>

      <h3>Module</h3>
      <ul id="modulesList"></ul>
    </div>
    <div id="content">
      Bitte Kapitel oder Modul wählen…
    </div>
  </div>

  <script>
    // Manifest mit allen 10 Kapiteln und 5 Modulen
    const manifest = {
      "chapters": [
        { "id": "01", "title": "Cover", "path": "chapters/01_cover.md" },
        { "id": "02", "title": "Geräteübersicht", "path": "chapters/02_geraeteuebersicht.md" },
        { "id": "03", "title": "First Steps – Audio & Routing", "path": "chapters/03_first_steps_audio_routing.md" },
        { "id": "04", "title": "First Steps – MIDI & Setup", "path": "chapters/04_first_steps_midi_setup.md" },
        { "id": "05", "title": "Workflows Audio (inkl. Performance)", "path": "chapters/05_workflows_audio.md" },
        { "id": "06", "title": "Workflows MIDI (inkl. Performance)", "path": "chapters/06_workflows_midi.md" },
        { "id": "07", "title": "Texture Lab Einsatz", "path": "chapters/07_texture_lab.md" },
        { "id": "08", "title": "Zusammenfassung", "path": "chapters/08_zusammenfassung.md" },
        { "id": "09", "title": "Anhang", "path": "chapters/09_anhang.md" },
        { "id": "10", "title": "Glossar", "path": "chapters/10_glossar.md" }
      ],
      "files": {
        "schema": "tiagemusic-geraetesetup.xsd",
        "setup": "geraetesetup.xml",
        "presets": "presets.xml",
        "scenes": "scenes.xml",
        "workflows": "workflows.xml"
      }
    };

    // Sidebar aufbauen
    function buildSidebar() {
      const chaptersList = document.getElementById('chaptersList');
      const modulesList = document.getElementById('modulesList');
      chaptersList.innerHTML = '';
      modulesList.innerHTML = '';

      manifest.chapters.forEach(ch => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.textContent = ch.id + ' – ' + ch.title;
        a.href = '#';
        a.onclick = () => loadChapter(ch.path);
        li.appendChild(a);
        chaptersList.appendChild(li);
      });

      Object.values(manifest.files).forEach(f => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.textContent = f;
        a.href = '#';
        a.onclick = () => loadModule(f);
        li.appendChild(a);
        modulesList.appendChild(li);
      });
    }

    // Dummy Ladefunktionen
    function loadChapter(path) {
      document.getElementById('content').innerHTML =
        '<h2>Kapitel: ' + path + '</h2><p>(Inhalt hier laden…)</p>';
    }

    function loadModule(file) {
      document.getElementById('content').innerHTML =
        '<h2>XML Modul: ' + file + '</h2><p>(XML-Inhalt hier parsen…)</p>';
    }

    // JSON Export-Funktionen (Platzhalter)
    function exportJson1() {
      alert("Export JSON1 – Rohdaten");
    }

    function exportJson2() {
      alert("Export JSON2 – Update-Anleitung");
    }

    function importJson2() {
      alert("Import JSON2 – Änderungen anwenden");
    }

    // Init
    buildSidebar();
  </script>
</body>
</html>