# apply-json2.yml
version: 1

anchors:
  block:
    # Beispiel:
    # <!-- cid:205:start --> ... <!-- cid:205:end -->
    start: "<!-- cid:${id}:start -->"
    end: "<!-- cid:${id}:end -->"
  single:
    # <!-- cid:205 -->
    value: "<!-- cid:${id} -->"
  heading_id:
    # ## Titel {#205}
    value: "{#${id}}"

defaults:
  encoding: "utf-8"
  newline: "\n"
  create_block_if_missing: true
  insert_if_missing_anchor: true

validation:
  chapter_id_pattern: "^(100|200|300|400|500|600|700|800)$"
  cid_rule: "cid >= chapter_id && cid <= (chapter_id + 99)"
  require_content_for: [insert_after, insert_before, append, replace, replace_block]
  forbid_content_for: [remove_section, delete]

logging:
  include_preview: false
  max_preview_chars: 240
